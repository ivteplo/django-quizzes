{# Copyright (c) 2022 Ivan Teplov #}
{% extends 'layouts/main.html' %}

{# TODO: show quiz name instead of just the word 'Quiz' #}
{% block title %}
    {{ quiz.name }} | Quizzes
{% endblock %}

{% block body %}
    {% include 'components/tab-bar.html' %}

    {# section with quiz info #}
    <section>
        {# quiz name and description #}
        <h1>{{ quiz.name }}</h1>
        <p>
            {% if quiz.description != '' %}
                {{ quiz.description }}
            {% else %}
                <i>No description provided</i>
            {% endif %}
        </p>

        {# information about a creator #}
        <p>
            <span>Made by</span>
            <b>{{ quiz.creator.name }}</b>
        </p>

        {% if quiz.creator == request.user %}
            <div>
                <a href="{% url 'edit-quiz' quiz_url=quiz.url %}">Change information about the quiz</a>
            </div>
            <div>
                <a href="{% url 'add-quiz-question' quiz_url=quiz.url %}">Add a question to the quiz</a>
            </div>
        {% endif %}
    </section>

    {# questions #}
    <section class="column">
        <ul>
            {% for question in quiz.questions.all %}
                <li>
                    <p>{{ question.text }}</p>
                    <ul>
                        {% for answer in question.answers.all %}
                            <li>{{ answer.text }}</li>
                        {% endfor %}
                    </ul>
                </li>
            {% endfor %}
        </ul>
    </section>
{% endblock %}
